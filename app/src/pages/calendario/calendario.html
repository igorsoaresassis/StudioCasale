<ng-template #monthviewEventDetailTemplate let-showEventDetail="showEventDetail" let-selectedDate="selectedDate" let-noEventsLabel="noEventsLabel">
    <ion-list class="event-detail-container" has-bouncing="false" *ngIf="showEventDetail" overflow-scroll="false">
        <ion-item *ngFor="let event of selectedDate?.events" (click)="editEvent(event)">
            <div class="event-container">
                <span class="event-title">{{event.title}}</span>
                <span class="event-date">{{event.startTime|date: 'HH:mm'}} - {{event.endTime|date: 'HH:mm'}}</span>
                <span class="event-room">{{event.roomName}}</span>
            </div>
        </ion-item>
        <ion-item *ngIf="selectedDate?.events.length==0">
            <div class="no-events-label">Nenhum evento cadastrado</div>
        </ion-item>
    </ion-list>
</ng-template>

<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>{{viewTitle}}</ion-title>
        <ion-buttons end>
            <button ion-button (click)="goToday()">Hoje</button>
        </ion-buttons>
        <ion-buttons end>
            <button ion-button icon-only (click)="presentPopover($event)">
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-fab right bottom>
        <button ion-fab class="fab-button" (click)="addEvent()">
            <ion-icon name="add"></ion-icon>
        </button>
    </ion-fab>
    <calendar
        formatDayHeader="EEEEEE"
        formatWeekViewDayHeader="EEEEEE d"
        formatWeekTitle="MMMM yyyy"
        formatHourColumn="HH:mm"
        formatDayTitle="dd MMMM - yyyy"
        [eventSource]="eventList"
        [calendarMode]="calendar.mode"
        [currentDate]="calendar.currentDate"
        [monthviewEventDetailTemplate]="monthviewEventDetailTemplate"
        (onEventSelected)="editEvent($event)"
        (onTitleChanged)="onViewTitleChanged($event)"
        step="30">
    </calendar>
</ion-content>
